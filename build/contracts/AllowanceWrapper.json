{"fileName":"ERC1155AllowanceWrapper.sol","contractName":"AllowanceWrapper","source":"pragma solidity ^0.5.0;\n\nimport \"./IERC1155.sol\";\nimport \"./ERC165.sol\";\nimport \"./SafeMath.sol\";\n\n// Shows how you could wrap some allowance on top of ERC1155\n// A user would setApprovalForAll(true) for this wrapper in the target contract,\n// and the set the individual allowances here.\ncontract AllowanceWrapper is IERC1155, ERC165\n{\n    using SafeMath for uint256;\n\n    IERC1155 targetContract;\n\n    // from => operator => id => allowance\n    mapping(address => mapping(address => mapping(uint256 => uint256))) allowances;\n\n    /**\n        @dev Pass in the target contract.\n    */\n    constructor(address _target) public {\n        targetContract = IERC1155(_target);\n    }\n\n    /**\n        @dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)\n    */\n    event Approval(address indexed _owner, address indexed _spender, uint256 indexed _id, uint256 _oldValue, uint256 _value);\n\n    /**\n        @notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n        @dev MUST emit Approval event on success.\n        To minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n        @param _spender      Address to approve\n        @param _id           ID of the Token\n        @param _currentValue Expected current value of approved allowance.\n        @param _value        Allowance amount\n    */\n    function approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value) external {\n\n        require(allowances[msg.sender][_spender][_id] == _currentValue);\n        allowances[msg.sender][_spender][_id] = _value;\n\n        emit Approval(msg.sender, _spender, _id, _currentValue, _value);\n    }\n\n    /**\n        @notice Queries the spending limit approved for an account\n        @param _id       ID of the Token\n        @param _owner    The owner allowing the spending\n        @param _spender  The address allowed to spend.\n        @return          The _spender's allowed spending balance of the Token requested\n     */\n    function allowance(address _owner, address _spender, uint256 _id) external view returns (uint256){\n        return allowances[_owner][_spender][_id];\n    }\n\n    // ERC1155\n\n    function supportsInterface(bytes4 _interfaceId)\n    external\n    view\n    returns (bool) {\n         ERC165(address(targetContract)).supportsInterface(_interfaceId);\n    }\n\n    /**\n        @notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n        @dev MUST emit Transfer event on success.\n        Caller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\n        Throws if `_to` is the zero address.\n        Throws if `_id` is not a valid token ID.\n        Once allowance is checked the target contract's safeTransferFrom function is called.\n        @param _from    source addresses\n        @param _to      target addresses\n        @param _id      ID of the Token\n        @param _value   transfer amounts\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data) external /*payable*/  {\n        if (msg.sender != _from) {\n            allowances[_from][msg.sender][_id] = allowances[_from][msg.sender][_id].sub(_value);\n        }\n        targetContract.safeTransferFrom(_from, _to, _id, _value, _data);\n    }\n\n    /**\n        @notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n        @dev MUST emit Transfer event per id on success.\n        Caller must have a sufficient allowance by _from for each of the id/value pairs.\n        Throws on any error rather than return a false flag to minimize user errors.\n        Once allowances are checked the target contract's safeBatchTransferFrom function is called.\n        @param _from    Source address\n        @param _to      Target address\n        @param _ids     Types of Tokens\n        @param _values  Transfer amounts per token type\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeBatchTransferFrom(address _from, address _to, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data) external /*payable*/ {\n        if (msg.sender != _from) {\n            for (uint256 i = 0; i < _ids.length; ++i) {\n                allowances[_from][msg.sender][_ids[i]] = allowances[_from][msg.sender][_ids[i]].sub(_values[i]);\n            }\n        }\n        targetContract.safeBatchTransferFrom(_from, _to, _ids, _values, _data);\n    }\n\n    /**\n        @notice Get the balance of an account's Tokens\n        @param _owner  The address of the token holder\n        @param _id     ID of the Token\n        @return        The _owner's balance of the Token type requested\n     */\n    function balanceOf(address _owner, uint256 _id) external view returns (uint256) {\n        return targetContract.balanceOf(_owner, _id);\n    }\n\n    /**\n        @notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n        @dev MUST emit the ApprovalForAll event on success.\n    */\n    function setApprovalForAll(address /*_operator*/, bool /*_approved*/) external {\n        // Do this on the wrapped contract directly. We can't do this here\n        revert();\n    }\n\n    /**\n        @notice Queries the approval status of an operator for a given Token and owner\n        @param _owner     The owner of the Tokens\n        @param _operator  Address of authorized operator\n        @return           True if the operator is approved, false if not\n    */\n    function isApprovedForAll(address _owner, address _operator) view external returns (bool) {\n        return targetContract.isApprovedForAll(_owner, _operator);\n    }\n}\n","sourcePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","sourceMap":"","deployedSourceMap":"","abi":[{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"},{"name":"_values","type":"uint256[]"},{"name":"_data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owners","type":"address[]"},{"name":"_ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"},{"name":"_currentValue","type":"uint256"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"","type":"address"},{"name":"","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_id","type":"uint256"},{"name":"_value","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_target","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":true,"name":"_id","type":"uint256"},{"indexed":false,"name":"_oldValue","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_id","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_ids","type":"uint256[]"},{"indexed":false,"name":"_values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_value","type":"string"},{"indexed":true,"name":"_id","type":"uint256"}],"name":"URI","type":"event"}],"ast":{"absolutePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","exportedSymbols":{"AllowanceWrapper":[872]},"id":873,"nodeType":"SourceUnit","nodes":[{"id":579,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:4"},{"absolutePath":"contracts/erc-1155/contracts/IERC1155.sol","file":"./IERC1155.sol","id":580,"nodeType":"ImportDirective","scope":873,"sourceUnit":2138,"src":"25:24:4","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/ERC165.sol","file":"./ERC165.sol","id":581,"nodeType":"ImportDirective","scope":873,"sourceUnit":2029,"src":"50:22:4","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/SafeMath.sol","file":"./SafeMath.sol","id":582,"nodeType":"ImportDirective","scope":873,"sourceUnit":3037,"src":"73:24:4","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":583,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2137,"src":"317:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":584,"nodeType":"InheritanceSpecifier","src":"317:8:4"},{"arguments":null,"baseName":{"contractScope":null,"id":585,"name":"ERC165","nodeType":"UserDefinedTypeName","referencedDeclaration":2028,"src":"327:6:4","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2028","typeString":"contract ERC165"}},"id":586,"nodeType":"InheritanceSpecifier","src":"327:6:4"}],"contractDependencies":[2028,2137],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":872,"linearizedBaseContracts":[872,2028,2137],"name":"AllowanceWrapper","nodeType":"ContractDefinition","nodes":[{"id":589,"libraryName":{"contractScope":null,"id":587,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":3036,"src":"346:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$3036","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"340:27:4","typeName":{"id":588,"name":"uint256","nodeType":"ElementaryTypeName","src":"359:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":false,"id":591,"name":"targetContract","nodeType":"VariableDeclaration","scope":872,"src":"373:23:4","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"},"typeName":{"contractScope":null,"id":590,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2137,"src":"373:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"value":null,"visibility":"internal"},{"constant":false,"id":599,"name":"allowances","nodeType":"VariableDeclaration","scope":872,"src":"446:78:4","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"typeName":{"id":598,"keyType":{"id":592,"name":"address","nodeType":"ElementaryTypeName","src":"454:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"446:67:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"valueType":{"id":597,"keyType":{"id":593,"name":"address","nodeType":"ElementaryTypeName","src":"473:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"465:47:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"},"valueType":{"id":596,"keyType":{"id":594,"name":"uint256","nodeType":"ElementaryTypeName","src":"492:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"484:27:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":595,"name":"uint256","nodeType":"ElementaryTypeName","src":"503:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}}},"value":null,"visibility":"internal"},{"body":{"id":610,"nodeType":"Block","src":"624:51:4","statements":[{"expression":{"argumentTypes":null,"id":608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":604,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"634:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":606,"name":"_target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":601,"src":"660:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":605,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2137,"src":"651:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$2137_$","typeString":"type(contract IERC1155)"}},"id":607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"651:17:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"src":"634:34:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":609,"nodeType":"ExpressionStatement","src":"634:34:4"}]},"documentation":"@dev Pass in the target contract.","id":611,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":602,"nodeType":"ParameterList","parameters":[{"constant":false,"id":601,"name":"_target","nodeType":"VariableDeclaration","scope":611,"src":"600:15:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":600,"name":"address","nodeType":"ElementaryTypeName","src":"600:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"599:17:4"},"returnParameters":{"id":603,"nodeType":"ParameterList","parameters":[],"src":"624:0:4"},"scope":872,"src":"588:87:4","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"anonymous":false,"documentation":"@dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)","id":623,"name":"Approval","nodeType":"EventDefinition","parameters":{"id":622,"nodeType":"ParameterList","parameters":[{"constant":false,"id":613,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":623,"src":"838:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":612,"name":"address","nodeType":"ElementaryTypeName","src":"838:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":615,"indexed":true,"name":"_spender","nodeType":"VariableDeclaration","scope":623,"src":"862:24:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":614,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":617,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":623,"src":"888:19:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":616,"name":"uint256","nodeType":"ElementaryTypeName","src":"888:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":619,"indexed":false,"name":"_oldValue","nodeType":"VariableDeclaration","scope":623,"src":"909:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":618,"name":"uint256","nodeType":"ElementaryTypeName","src":"909:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":621,"indexed":false,"name":"_value","nodeType":"VariableDeclaration","scope":623,"src":"928:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":620,"name":"uint256","nodeType":"ElementaryTypeName","src":"928:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"837:106:4"},"src":"823:121:4"},{"body":{"id":667,"nodeType":"Block","src":"1693:211:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":635,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"1712:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":638,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":636,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"1723:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":637,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1723:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:22:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":640,"indexExpression":{"argumentTypes":null,"id":639,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":625,"src":"1735:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:32:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":642,"indexExpression":{"argumentTypes":null,"id":641,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"1745:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":643,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"1753:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1712:54:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":634,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3110,3111],"referencedDeclaration":3110,"src":"1704:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1704:63:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":646,"nodeType":"ExpressionStatement","src":"1704:63:4"},{"expression":{"argumentTypes":null,"id":656,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":647,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"1777:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":652,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":648,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"1788:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1788:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:22:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":653,"indexExpression":{"argumentTypes":null,"id":650,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":625,"src":"1800:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:32:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":654,"indexExpression":{"argumentTypes":null,"id":651,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"1810:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1777:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":655,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":631,"src":"1817:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1777:46:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":657,"nodeType":"ExpressionStatement","src":"1777:46:4"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":659,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"1848:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1848:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":661,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":625,"src":"1860:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":662,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":627,"src":"1870:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":663,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"1875:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":664,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":631,"src":"1890:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":658,"name":"Approval","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":623,"src":"1839:8:4","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256,uint256,uint256)"}},"id":665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1839:58:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":666,"nodeType":"EmitStatement","src":"1834:63:4"}]},"documentation":"@notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n@dev MUST emit Approval event on success.\nTo minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n@param _spender      Address to approve\n@param _id           ID of the Token\n@param _currentValue Expected current value of approved allowance.\n@param _value        Allowance amount","id":668,"implemented":true,"kind":"function","modifiers":[],"name":"approve","nodeType":"FunctionDefinition","parameters":{"id":632,"nodeType":"ParameterList","parameters":[{"constant":false,"id":625,"name":"_spender","nodeType":"VariableDeclaration","scope":668,"src":"1614:16:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":624,"name":"address","nodeType":"ElementaryTypeName","src":"1614:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":627,"name":"_id","nodeType":"VariableDeclaration","scope":668,"src":"1632:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":626,"name":"uint256","nodeType":"ElementaryTypeName","src":"1632:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":629,"name":"_currentValue","nodeType":"VariableDeclaration","scope":668,"src":"1645:21:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":628,"name":"uint256","nodeType":"ElementaryTypeName","src":"1645:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":631,"name":"_value","nodeType":"VariableDeclaration","scope":668,"src":"1668:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":630,"name":"uint256","nodeType":"ElementaryTypeName","src":"1668:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1613:70:4"},"returnParameters":{"id":633,"nodeType":"ParameterList","parameters":[],"src":"1693:0:4"},"scope":872,"src":"1597:307:4","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":687,"nodeType":"Block","src":"2331:57:4","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":679,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"2348:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":681,"indexExpression":{"argumentTypes":null,"id":680,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":670,"src":"2359:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:18:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":683,"indexExpression":{"argumentTypes":null,"id":682,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":672,"src":"2367:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:28:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":685,"indexExpression":{"argumentTypes":null,"id":684,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":674,"src":"2377:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:33:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":678,"id":686,"nodeType":"Return","src":"2341:40:4"}]},"documentation":"@notice Queries the spending limit approved for an account\n@param _id       ID of the Token\n@param _owner    The owner allowing the spending\n@param _spender  The address allowed to spend.\n@return          The _spender's allowed spending balance of the Token requested","id":688,"implemented":true,"kind":"function","modifiers":[],"name":"allowance","nodeType":"FunctionDefinition","parameters":{"id":675,"nodeType":"ParameterList","parameters":[{"constant":false,"id":670,"name":"_owner","nodeType":"VariableDeclaration","scope":688,"src":"2253:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":669,"name":"address","nodeType":"ElementaryTypeName","src":"2253:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":672,"name":"_spender","nodeType":"VariableDeclaration","scope":688,"src":"2269:16:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":671,"name":"address","nodeType":"ElementaryTypeName","src":"2269:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":674,"name":"_id","nodeType":"VariableDeclaration","scope":688,"src":"2287:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":673,"name":"uint256","nodeType":"ElementaryTypeName","src":"2287:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2252:47:4"},"returnParameters":{"id":678,"nodeType":"ParameterList","parameters":[{"constant":false,"id":677,"name":"","nodeType":"VariableDeclaration","scope":688,"src":"2323:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":676,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2322:9:4"},"scope":872,"src":"2234:154:4","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":704,"nodeType":"Block","src":"2499:81:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":701,"name":"_interfaceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":690,"src":"2560:12:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":697,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"2525:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}],"id":696,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2517:7:4","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":698,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2517:23:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":695,"name":"ERC165","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2028,"src":"2510:6:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ERC165_$2028_$","typeString":"type(contract ERC165)"}},"id":699,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:31:4","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2028","typeString":"contract ERC165"}},"id":700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"supportsInterface","nodeType":"MemberAccess","referencedDeclaration":2027,"src":"2510:49:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes4_$returns$_t_bool_$","typeString":"function (bytes4) view external returns (bool)"}},"id":702,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:63:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":703,"nodeType":"ExpressionStatement","src":"2510:63:4"}]},"documentation":null,"id":705,"implemented":true,"kind":"function","modifiers":[],"name":"supportsInterface","nodeType":"FunctionDefinition","parameters":{"id":691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":690,"name":"_interfaceId","nodeType":"VariableDeclaration","scope":705,"src":"2437:19:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":689,"name":"bytes4","nodeType":"ElementaryTypeName","src":"2437:6:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"2436:21:4"},"returnParameters":{"id":694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":693,"name":"","nodeType":"VariableDeclaration","scope":705,"src":"2493:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":692,"name":"bool","nodeType":"ElementaryTypeName","src":"2493:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2492:6:4"},"scope":872,"src":"2410:170:4","stateMutability":"view","superFunction":2027,"visibility":"external"},{"body":{"id":755,"nodeType":"Block","src":"3511:222:4","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":721,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":718,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"3525:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":719,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3525:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":720,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":707,"src":"3539:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3525:19:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":744,"nodeType":"IfStatement","src":"3521:133:4","trueBody":{"id":743,"nodeType":"Block","src":"3546:108:4","statements":[{"expression":{"argumentTypes":null,"id":741,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":722,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"3560:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":727,"indexExpression":{"argumentTypes":null,"id":723,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":707,"src":"3571:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":728,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":724,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"3578:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":725,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3578:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":729,"indexExpression":{"argumentTypes":null,"id":726,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":711,"src":"3590:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3560:34:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":739,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":713,"src":"3636:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":730,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"3597:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":732,"indexExpression":{"argumentTypes":null,"id":731,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":707,"src":"3608:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":735,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":733,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"3615:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3615:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":737,"indexExpression":{"argumentTypes":null,"id":736,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":711,"src":"3627:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:34:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3011,"src":"3597:38:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3597:46:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3560:83:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":742,"nodeType":"ExpressionStatement","src":"3560:83:4"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":748,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":707,"src":"3695:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":749,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":709,"src":"3702:3:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":750,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":711,"src":"3707:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":751,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":713,"src":"3712:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":752,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":715,"src":"3720:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":745,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"3663:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2084,"src":"3663:31:4","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3663:63:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":754,"nodeType":"ExpressionStatement","src":"3663:63:4"}]},"documentation":"@notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n@dev MUST emit Transfer event on success.\nCaller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\nThrows if `_to` is the zero address.\nThrows if `_id` is not a valid token ID.\nOnce allowance is checked the target contract's safeTransferFrom function is called.\n@param _from    source addresses\n@param _to      target addresses\n@param _id      ID of the Token\n@param _value   transfer amounts\n@param _data    Additional data with no specified format, sent in call to `_to`","id":756,"implemented":true,"kind":"function","modifiers":[],"name":"safeTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":716,"nodeType":"ParameterList","parameters":[{"constant":false,"id":707,"name":"_from","nodeType":"VariableDeclaration","scope":756,"src":"3410:13:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":706,"name":"address","nodeType":"ElementaryTypeName","src":"3410:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":709,"name":"_to","nodeType":"VariableDeclaration","scope":756,"src":"3425:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":708,"name":"address","nodeType":"ElementaryTypeName","src":"3425:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":711,"name":"_id","nodeType":"VariableDeclaration","scope":756,"src":"3438:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":710,"name":"uint256","nodeType":"ElementaryTypeName","src":"3438:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":713,"name":"_value","nodeType":"VariableDeclaration","scope":756,"src":"3451:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":712,"name":"uint256","nodeType":"ElementaryTypeName","src":"3451:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":715,"name":"_data","nodeType":"VariableDeclaration","scope":756,"src":"3467:20:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":714,"name":"bytes","nodeType":"ElementaryTypeName","src":"3467:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"3409:79:4"},"returnParameters":{"id":717,"nodeType":"ParameterList","parameters":[],"src":"3511:0:4"},"scope":872,"src":"3384:349:4","stateMutability":"nonpayable","superFunction":2084,"visibility":"external"},{"body":{"id":827,"nodeType":"Block","src":"4600:315:4","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":774,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":771,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"4614:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4614:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":773,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"4628:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4614:19:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":816,"nodeType":"IfStatement","src":"4610:219:4","trueBody":{"id":815,"nodeType":"Block","src":"4635:194:4","statements":[{"body":{"id":813,"nodeType":"Block","src":"4691:128:4","statements":[{"expression":{"argumentTypes":null,"id":811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":786,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"4709:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":793,"indexExpression":{"argumentTypes":null,"id":787,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"4720:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":794,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":788,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"4727:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4727:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":795,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":790,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":763,"src":"4739:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":792,"indexExpression":{"argumentTypes":null,"id":791,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":776,"src":"4744:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4739:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4709:38:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":807,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":766,"src":"4793:7:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":809,"indexExpression":{"argumentTypes":null,"id":808,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":776,"src":"4801:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4793:10:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":796,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":599,"src":"4750:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":798,"indexExpression":{"argumentTypes":null,"id":797,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"4761:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":801,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":799,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3107,"src":"4768:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":800,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4768:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":805,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":802,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":763,"src":"4780:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":804,"indexExpression":{"argumentTypes":null,"id":803,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":776,"src":"4785:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4780:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:38:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":806,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3011,"src":"4750:42:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":810,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4750:54:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4709:95:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":812,"nodeType":"ExpressionStatement","src":"4709:95:4"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":779,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":776,"src":"4669:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":780,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":763,"src":"4673:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4673:11:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4669:15:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":814,"initializationExpression":{"assignments":[776],"declarations":[{"constant":false,"id":776,"name":"i","nodeType":"VariableDeclaration","scope":814,"src":"4654:9:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":775,"name":"uint256","nodeType":"ElementaryTypeName","src":"4654:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":778,"initialValue":{"argumentTypes":null,"hexValue":"30","id":777,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4666:1:4","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4654:13:4"},"loopExpression":{"expression":{"argumentTypes":null,"id":784,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4686:3:4","subExpression":{"argumentTypes":null,"id":783,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":776,"src":"4688:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":785,"nodeType":"ExpressionStatement","src":"4686:3:4"},"nodeType":"ForStatement","src":"4649:170:4"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":820,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":758,"src":"4875:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":821,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":760,"src":"4882:3:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":822,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":763,"src":"4887:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":823,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":766,"src":"4893:7:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":824,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":768,"src":"4902:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":817,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"4838:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeBatchTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2099,"src":"4838:36:4","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256[] memory,uint256[] memory,bytes memory) external"}},"id":825,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4838:70:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":826,"nodeType":"ExpressionStatement","src":"4838:70:4"}]},"documentation":"@notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n@dev MUST emit Transfer event per id on success.\nCaller must have a sufficient allowance by _from for each of the id/value pairs.\nThrows on any error rather than return a false flag to minimize user errors.\nOnce allowances are checked the target contract's safeBatchTransferFrom function is called.\n@param _from    Source address\n@param _to      Target address\n@param _ids     Types of Tokens\n@param _values  Transfer amounts per token type\n@param _data    Additional data with no specified format, sent in call to `_to`","id":828,"implemented":true,"kind":"function","modifiers":[],"name":"safeBatchTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":769,"nodeType":"ParameterList","parameters":[{"constant":false,"id":758,"name":"_from","nodeType":"VariableDeclaration","scope":828,"src":"4476:13:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":757,"name":"address","nodeType":"ElementaryTypeName","src":"4476:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":760,"name":"_to","nodeType":"VariableDeclaration","scope":828,"src":"4491:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":759,"name":"address","nodeType":"ElementaryTypeName","src":"4491:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":763,"name":"_ids","nodeType":"VariableDeclaration","scope":828,"src":"4504:23:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":761,"name":"uint256","nodeType":"ElementaryTypeName","src":"4504:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":762,"length":null,"nodeType":"ArrayTypeName","src":"4504:9:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":766,"name":"_values","nodeType":"VariableDeclaration","scope":828,"src":"4529:26:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":764,"name":"uint256","nodeType":"ElementaryTypeName","src":"4529:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":765,"length":null,"nodeType":"ArrayTypeName","src":"4529:9:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":768,"name":"_data","nodeType":"VariableDeclaration","scope":828,"src":"4557:20:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":767,"name":"bytes","nodeType":"ElementaryTypeName","src":"4557:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4475:103:4"},"returnParameters":{"id":770,"nodeType":"ParameterList","parameters":[],"src":"4600:0:4"},"scope":872,"src":"4445:470:4","stateMutability":"nonpayable","superFunction":2099,"visibility":"external"},{"body":{"id":843,"nodeType":"Block","src":"5238:61:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":839,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":830,"src":"5280:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":840,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":832,"src":"5288:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":837,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"5255:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":2108,"src":"5255:24:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":841,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5255:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":836,"id":842,"nodeType":"Return","src":"5248:44:4"}]},"documentation":"@notice Get the balance of an account's Tokens\n@param _owner  The address of the token holder\n@param _id     ID of the Token\n@return        The _owner's balance of the Token type requested","id":844,"implemented":true,"kind":"function","modifiers":[],"name":"balanceOf","nodeType":"FunctionDefinition","parameters":{"id":833,"nodeType":"ParameterList","parameters":[{"constant":false,"id":830,"name":"_owner","nodeType":"VariableDeclaration","scope":844,"src":"5177:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":829,"name":"address","nodeType":"ElementaryTypeName","src":"5177:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":832,"name":"_id","nodeType":"VariableDeclaration","scope":844,"src":"5193:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":831,"name":"uint256","nodeType":"ElementaryTypeName","src":"5193:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5176:29:4"},"returnParameters":{"id":836,"nodeType":"ParameterList","parameters":[{"constant":false,"id":835,"name":"","nodeType":"VariableDeclaration","scope":844,"src":"5229:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":834,"name":"uint256","nodeType":"ElementaryTypeName","src":"5229:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5228:9:4"},"scope":872,"src":"5158:141:4","stateMutability":"view","superFunction":2108,"visibility":"external"},{"body":{"id":854,"nodeType":"Block","src":"5573:100:4","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":851,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[3112,3113],"referencedDeclaration":3112,"src":"5658:6:4","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":852,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5658:8:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":853,"nodeType":"ExpressionStatement","src":"5658:8:4"}]},"documentation":"@notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n@dev MUST emit the ApprovalForAll event on success.","id":855,"implemented":true,"kind":"function","modifiers":[],"name":"setApprovalForAll","nodeType":"FunctionDefinition","parameters":{"id":849,"nodeType":"ParameterList","parameters":[{"constant":false,"id":846,"name":"","nodeType":"VariableDeclaration","scope":855,"src":"5521:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":845,"name":"address","nodeType":"ElementaryTypeName","src":"5521:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":848,"name":"","nodeType":"VariableDeclaration","scope":855,"src":"5544:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":847,"name":"bool","nodeType":"ElementaryTypeName","src":"5544:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"5520:43:4"},"returnParameters":{"id":850,"nodeType":"ParameterList","parameters":[],"src":"5573:0:4"},"scope":872,"src":"5494:179:4","stateMutability":"nonpayable","superFunction":2127,"visibility":"external"},{"body":{"id":870,"nodeType":"Block","src":"6051:74:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":866,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":857,"src":"6100:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":867,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":859,"src":"6108:9:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":864,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":591,"src":"6068:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2137","typeString":"contract IERC1155"}},"id":865,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isApprovedForAll","nodeType":"MemberAccess","referencedDeclaration":2136,"src":"6068:31:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_bool_$","typeString":"function (address,address) view external returns (bool)"}},"id":868,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6068:50:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":863,"id":869,"nodeType":"Return","src":"6061:57:4"}]},"documentation":"@notice Queries the approval status of an operator for a given Token and owner\n@param _owner     The owner of the Tokens\n@param _operator  Address of authorized operator\n@return           True if the operator is approved, false if not","id":871,"implemented":true,"kind":"function","modifiers":[],"name":"isApprovedForAll","nodeType":"FunctionDefinition","parameters":{"id":860,"nodeType":"ParameterList","parameters":[{"constant":false,"id":857,"name":"_owner","nodeType":"VariableDeclaration","scope":871,"src":"5987:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":856,"name":"address","nodeType":"ElementaryTypeName","src":"5987:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":859,"name":"_operator","nodeType":"VariableDeclaration","scope":871,"src":"6003:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":858,"name":"address","nodeType":"ElementaryTypeName","src":"6003:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"5986:35:4"},"returnParameters":{"id":863,"nodeType":"ParameterList","parameters":[{"constant":false,"id":862,"name":"","nodeType":"VariableDeclaration","scope":871,"src":"6045:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":861,"name":"bool","nodeType":"ElementaryTypeName","src":"6045:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"6044:6:4"},"scope":872,"src":"5961:164:4","stateMutability":"view","superFunction":2136,"visibility":"external"}],"scope":873,"src":"288:5839:4"}],"src":"0:6128:4"},"bytecode":"0x","deployedBytecode":"0x","compiler":{"name":"solc","version":"0.5.10+commit.5a6ea5b1.Emscripten.clang","optimizer":{},"evmVersion":"constantinople"}}
