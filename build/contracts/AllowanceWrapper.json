{"fileName":"ERC1155AllowanceWrapper.sol","contractName":"AllowanceWrapper","source":"pragma solidity ^0.5.0;\n\nimport \"./IERC1155.sol\";\nimport \"./ERC165.sol\";\nimport \"./SafeMath.sol\";\n\n// Shows how you could wrap some allowance on top of ERC1155\n// A user would setApprovalForAll(true) for this wrapper in the target contract,\n// and the set the individual allowances here.\ncontract AllowanceWrapper is IERC1155, ERC165\n{\n    using SafeMath for uint256;\n\n    IERC1155 targetContract;\n\n    // from => operator => id => allowance\n    mapping(address => mapping(address => mapping(uint256 => uint256))) allowances;\n\n    /**\n        @dev Pass in the target contract.\n    */\n    constructor(address _target) public {\n        targetContract = IERC1155(_target);\n    }\n\n    /**\n        @dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)\n    */\n    event Approval(address indexed _owner, address indexed _spender, uint256 indexed _id, uint256 _oldValue, uint256 _value);\n\n    /**\n        @notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n        @dev MUST emit Approval event on success.\n        To minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n        @param _spender      Address to approve\n        @param _id           ID of the Token\n        @param _currentValue Expected current value of approved allowance.\n        @param _value        Allowance amount\n    */\n    function approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value) external {\n\n        require(allowances[msg.sender][_spender][_id] == _currentValue);\n        allowances[msg.sender][_spender][_id] = _value;\n\n        emit Approval(msg.sender, _spender, _id, _currentValue, _value);\n    }\n\n    /**\n        @notice Queries the spending limit approved for an account\n        @param _id       ID of the Token\n        @param _owner    The owner allowing the spending\n        @param _spender  The address allowed to spend.\n        @return          The _spender's allowed spending balance of the Token requested\n     */\n    function allowance(address _owner, address _spender, uint256 _id) external view returns (uint256){\n        return allowances[_owner][_spender][_id];\n    }\n\n    // ERC1155\n\n    function supportsInterface(bytes4 _interfaceId)\n    external\n    view\n    returns (bool) {\n         ERC165(address(targetContract)).supportsInterface(_interfaceId);\n    }\n\n    /**\n        @notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n        @dev MUST emit Transfer event on success.\n        Caller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\n        Throws if `_to` is the zero address.\n        Throws if `_id` is not a valid token ID.\n        Once allowance is checked the target contract's safeTransferFrom function is called.\n        @param _from    source addresses\n        @param _to      target addresses\n        @param _id      ID of the Token\n        @param _value   transfer amounts\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data) external /*payable*/  {\n        if (msg.sender != _from) {\n            allowances[_from][msg.sender][_id] = allowances[_from][msg.sender][_id].sub(_value);\n        }\n        targetContract.safeTransferFrom(_from, _to, _id, _value, _data);\n    }\n\n    /**\n        @notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n        @dev MUST emit Transfer event per id on success.\n        Caller must have a sufficient allowance by _from for each of the id/value pairs.\n        Throws on any error rather than return a false flag to minimize user errors.\n        Once allowances are checked the target contract's safeBatchTransferFrom function is called.\n        @param _from    Source address\n        @param _to      Target address\n        @param _ids     Types of Tokens\n        @param _values  Transfer amounts per token type\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeBatchTransferFrom(address _from, address _to, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data) external /*payable*/ {\n        if (msg.sender != _from) {\n            for (uint256 i = 0; i < _ids.length; ++i) {\n                allowances[_from][msg.sender][_ids[i]] = allowances[_from][msg.sender][_ids[i]].sub(_values[i]);\n            }\n        }\n        targetContract.safeBatchTransferFrom(_from, _to, _ids, _values, _data);\n    }\n\n    /**\n        @notice Get the balance of an account's Tokens\n        @param _owner  The address of the token holder\n        @param _id     ID of the Token\n        @return        The _owner's balance of the Token type requested\n     */\n    function balanceOf(address _owner, uint256 _id) external view returns (uint256) {\n        return targetContract.balanceOf(_owner, _id);\n    }\n\n    /**\n        @notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n        @dev MUST emit the ApprovalForAll event on success.\n    */\n    function setApprovalForAll(address /*_operator*/, bool /*_approved*/) external {\n        // Do this on the wrapped contract directly. We can't do this here\n        revert();\n    }\n\n    /**\n        @notice Queries the approval status of an operator for a given Token and owner\n        @param _owner     The owner of the Tokens\n        @param _operator  Address of authorized operator\n        @return           True if the operator is approved, false if not\n    */\n    function isApprovedForAll(address _owner, address _operator) view external returns (bool) {\n        return targetContract.isApprovedForAll(_owner, _operator);\n    }\n}\n","sourcePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","sourceMap":"","deployedSourceMap":"","abi":[{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"},{"name":"_values","type":"uint256[]"},{"name":"_data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owners","type":"address[]"},{"name":"_ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"},{"name":"_currentValue","type":"uint256"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"","type":"address"},{"name":"","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_id","type":"uint256"},{"name":"_value","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_target","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":true,"name":"_id","type":"uint256"},{"indexed":false,"name":"_oldValue","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_id","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_ids","type":"uint256[]"},{"indexed":false,"name":"_values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_value","type":"string"},{"indexed":true,"name":"_id","type":"uint256"}],"name":"URI","type":"event"}],"ast":{"absolutePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","exportedSymbols":{"AllowanceWrapper":[914]},"id":915,"nodeType":"SourceUnit","nodes":[{"id":621,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:5"},{"absolutePath":"contracts/erc-1155/contracts/IERC1155.sol","file":"./IERC1155.sol","id":622,"nodeType":"ImportDirective","scope":915,"sourceUnit":2180,"src":"25:24:5","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/ERC165.sol","file":"./ERC165.sol","id":623,"nodeType":"ImportDirective","scope":915,"sourceUnit":2071,"src":"50:22:5","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/SafeMath.sol","file":"./SafeMath.sol","id":624,"nodeType":"ImportDirective","scope":915,"sourceUnit":3079,"src":"73:24:5","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":625,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2179,"src":"317:8:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":626,"nodeType":"InheritanceSpecifier","src":"317:8:5"},{"arguments":null,"baseName":{"contractScope":null,"id":627,"name":"ERC165","nodeType":"UserDefinedTypeName","referencedDeclaration":2070,"src":"327:6:5","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2070","typeString":"contract ERC165"}},"id":628,"nodeType":"InheritanceSpecifier","src":"327:6:5"}],"contractDependencies":[2070,2179],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":914,"linearizedBaseContracts":[914,2070,2179],"name":"AllowanceWrapper","nodeType":"ContractDefinition","nodes":[{"id":631,"libraryName":{"contractScope":null,"id":629,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":3078,"src":"346:8:5","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$3078","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"340:27:5","typeName":{"id":630,"name":"uint256","nodeType":"ElementaryTypeName","src":"359:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":false,"id":633,"name":"targetContract","nodeType":"VariableDeclaration","scope":914,"src":"373:23:5","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"},"typeName":{"contractScope":null,"id":632,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2179,"src":"373:8:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"value":null,"visibility":"internal"},{"constant":false,"id":641,"name":"allowances","nodeType":"VariableDeclaration","scope":914,"src":"446:78:5","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"typeName":{"id":640,"keyType":{"id":634,"name":"address","nodeType":"ElementaryTypeName","src":"454:7:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"446:67:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"valueType":{"id":639,"keyType":{"id":635,"name":"address","nodeType":"ElementaryTypeName","src":"473:7:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"465:47:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"},"valueType":{"id":638,"keyType":{"id":636,"name":"uint256","nodeType":"ElementaryTypeName","src":"492:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"484:27:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":637,"name":"uint256","nodeType":"ElementaryTypeName","src":"503:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}}},"value":null,"visibility":"internal"},{"body":{"id":652,"nodeType":"Block","src":"624:51:5","statements":[{"expression":{"argumentTypes":null,"id":650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":646,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"634:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":648,"name":"_target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":643,"src":"660:7:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":647,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2179,"src":"651:8:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$2179_$","typeString":"type(contract IERC1155)"}},"id":649,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"651:17:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"src":"634:34:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":651,"nodeType":"ExpressionStatement","src":"634:34:5"}]},"documentation":"@dev Pass in the target contract.","id":653,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":644,"nodeType":"ParameterList","parameters":[{"constant":false,"id":643,"name":"_target","nodeType":"VariableDeclaration","scope":653,"src":"600:15:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":642,"name":"address","nodeType":"ElementaryTypeName","src":"600:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"599:17:5"},"returnParameters":{"id":645,"nodeType":"ParameterList","parameters":[],"src":"624:0:5"},"scope":914,"src":"588:87:5","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"anonymous":false,"documentation":"@dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)","id":665,"name":"Approval","nodeType":"EventDefinition","parameters":{"id":664,"nodeType":"ParameterList","parameters":[{"constant":false,"id":655,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":665,"src":"838:22:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":654,"name":"address","nodeType":"ElementaryTypeName","src":"838:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":657,"indexed":true,"name":"_spender","nodeType":"VariableDeclaration","scope":665,"src":"862:24:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":656,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":659,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":665,"src":"888:19:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":658,"name":"uint256","nodeType":"ElementaryTypeName","src":"888:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":661,"indexed":false,"name":"_oldValue","nodeType":"VariableDeclaration","scope":665,"src":"909:17:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":660,"name":"uint256","nodeType":"ElementaryTypeName","src":"909:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":663,"indexed":false,"name":"_value","nodeType":"VariableDeclaration","scope":665,"src":"928:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":662,"name":"uint256","nodeType":"ElementaryTypeName","src":"928:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"837:106:5"},"src":"823:121:5"},{"body":{"id":709,"nodeType":"Block","src":"1693:211:5","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":677,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"1712:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":680,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":678,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"1723:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":679,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1723:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:22:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":682,"indexExpression":{"argumentTypes":null,"id":681,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"1735:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:32:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":684,"indexExpression":{"argumentTypes":null,"id":683,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"1745:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:37:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":685,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":671,"src":"1753:13:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1712:54:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":676,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3806,3807],"referencedDeclaration":3806,"src":"1704:7:5","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":687,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1704:63:5","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":688,"nodeType":"ExpressionStatement","src":"1704:63:5"},{"expression":{"argumentTypes":null,"id":698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":689,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"1777:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":694,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":690,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"1788:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1788:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:22:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":695,"indexExpression":{"argumentTypes":null,"id":692,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"1800:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:32:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":696,"indexExpression":{"argumentTypes":null,"id":693,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"1810:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1777:37:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":697,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"1817:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1777:46:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":699,"nodeType":"ExpressionStatement","src":"1777:46:5"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":701,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"1848:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1848:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":703,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"1860:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":704,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"1870:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":705,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":671,"src":"1875:13:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":706,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":673,"src":"1890:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":700,"name":"Approval","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"1839:8:5","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256,uint256,uint256)"}},"id":707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1839:58:5","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":708,"nodeType":"EmitStatement","src":"1834:63:5"}]},"documentation":"@notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n@dev MUST emit Approval event on success.\nTo minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n@param _spender      Address to approve\n@param _id           ID of the Token\n@param _currentValue Expected current value of approved allowance.\n@param _value        Allowance amount","id":710,"implemented":true,"kind":"function","modifiers":[],"name":"approve","nodeType":"FunctionDefinition","parameters":{"id":674,"nodeType":"ParameterList","parameters":[{"constant":false,"id":667,"name":"_spender","nodeType":"VariableDeclaration","scope":710,"src":"1614:16:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":666,"name":"address","nodeType":"ElementaryTypeName","src":"1614:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":669,"name":"_id","nodeType":"VariableDeclaration","scope":710,"src":"1632:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":668,"name":"uint256","nodeType":"ElementaryTypeName","src":"1632:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":671,"name":"_currentValue","nodeType":"VariableDeclaration","scope":710,"src":"1645:21:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":670,"name":"uint256","nodeType":"ElementaryTypeName","src":"1645:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":673,"name":"_value","nodeType":"VariableDeclaration","scope":710,"src":"1668:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":672,"name":"uint256","nodeType":"ElementaryTypeName","src":"1668:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1613:70:5"},"returnParameters":{"id":675,"nodeType":"ParameterList","parameters":[],"src":"1693:0:5"},"scope":914,"src":"1597:307:5","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":729,"nodeType":"Block","src":"2331:57:5","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":721,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"2348:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":723,"indexExpression":{"argumentTypes":null,"id":722,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":712,"src":"2359:6:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:18:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":725,"indexExpression":{"argumentTypes":null,"id":724,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":714,"src":"2367:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:28:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":727,"indexExpression":{"argumentTypes":null,"id":726,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":716,"src":"2377:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:33:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":720,"id":728,"nodeType":"Return","src":"2341:40:5"}]},"documentation":"@notice Queries the spending limit approved for an account\n@param _id       ID of the Token\n@param _owner    The owner allowing the spending\n@param _spender  The address allowed to spend.\n@return          The _spender's allowed spending balance of the Token requested","id":730,"implemented":true,"kind":"function","modifiers":[],"name":"allowance","nodeType":"FunctionDefinition","parameters":{"id":717,"nodeType":"ParameterList","parameters":[{"constant":false,"id":712,"name":"_owner","nodeType":"VariableDeclaration","scope":730,"src":"2253:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":711,"name":"address","nodeType":"ElementaryTypeName","src":"2253:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":714,"name":"_spender","nodeType":"VariableDeclaration","scope":730,"src":"2269:16:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":713,"name":"address","nodeType":"ElementaryTypeName","src":"2269:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":716,"name":"_id","nodeType":"VariableDeclaration","scope":730,"src":"2287:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":715,"name":"uint256","nodeType":"ElementaryTypeName","src":"2287:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2252:47:5"},"returnParameters":{"id":720,"nodeType":"ParameterList","parameters":[{"constant":false,"id":719,"name":"","nodeType":"VariableDeclaration","scope":730,"src":"2323:7:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":718,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2322:9:5"},"scope":914,"src":"2234:154:5","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":746,"nodeType":"Block","src":"2499:81:5","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":743,"name":"_interfaceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":732,"src":"2560:12:5","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":739,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"2525:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}],"id":738,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2517:7:5","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2517:23:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":737,"name":"ERC165","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2070,"src":"2510:6:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ERC165_$2070_$","typeString":"type(contract ERC165)"}},"id":741,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:31:5","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2070","typeString":"contract ERC165"}},"id":742,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"supportsInterface","nodeType":"MemberAccess","referencedDeclaration":2069,"src":"2510:49:5","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes4_$returns$_t_bool_$","typeString":"function (bytes4) view external returns (bool)"}},"id":744,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:63:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":745,"nodeType":"ExpressionStatement","src":"2510:63:5"}]},"documentation":null,"id":747,"implemented":true,"kind":"function","modifiers":[],"name":"supportsInterface","nodeType":"FunctionDefinition","parameters":{"id":733,"nodeType":"ParameterList","parameters":[{"constant":false,"id":732,"name":"_interfaceId","nodeType":"VariableDeclaration","scope":747,"src":"2437:19:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":731,"name":"bytes4","nodeType":"ElementaryTypeName","src":"2437:6:5","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"2436:21:5"},"returnParameters":{"id":736,"nodeType":"ParameterList","parameters":[{"constant":false,"id":735,"name":"","nodeType":"VariableDeclaration","scope":747,"src":"2493:4:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":734,"name":"bool","nodeType":"ElementaryTypeName","src":"2493:4:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2492:6:5"},"scope":914,"src":"2410:170:5","stateMutability":"view","superFunction":2069,"visibility":"external"},{"body":{"id":797,"nodeType":"Block","src":"3511:222:5","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":760,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"3525:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":761,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3525:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":762,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3539:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3525:19:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":786,"nodeType":"IfStatement","src":"3521:133:5","trueBody":{"id":785,"nodeType":"Block","src":"3546:108:5","statements":[{"expression":{"argumentTypes":null,"id":783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":764,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"3560:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":769,"indexExpression":{"argumentTypes":null,"id":765,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3571:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:17:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":770,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":766,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"3578:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":767,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3578:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:29:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":771,"indexExpression":{"argumentTypes":null,"id":768,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":753,"src":"3590:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3560:34:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":781,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":755,"src":"3636:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":772,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"3597:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":774,"indexExpression":{"argumentTypes":null,"id":773,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3608:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:17:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":777,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":775,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"3615:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":776,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3615:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:29:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":779,"indexExpression":{"argumentTypes":null,"id":778,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":753,"src":"3627:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:34:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":780,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3053,"src":"3597:38:5","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":782,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3597:46:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3560:83:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":784,"nodeType":"ExpressionStatement","src":"3560:83:5"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":790,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3695:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":791,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":751,"src":"3702:3:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":792,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":753,"src":"3707:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":793,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":755,"src":"3712:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":794,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":757,"src":"3720:5:5","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":787,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"3663:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2126,"src":"3663:31:5","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":795,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3663:63:5","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":796,"nodeType":"ExpressionStatement","src":"3663:63:5"}]},"documentation":"@notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n@dev MUST emit Transfer event on success.\nCaller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\nThrows if `_to` is the zero address.\nThrows if `_id` is not a valid token ID.\nOnce allowance is checked the target contract's safeTransferFrom function is called.\n@param _from    source addresses\n@param _to      target addresses\n@param _id      ID of the Token\n@param _value   transfer amounts\n@param _data    Additional data with no specified format, sent in call to `_to`","id":798,"implemented":true,"kind":"function","modifiers":[],"name":"safeTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":758,"nodeType":"ParameterList","parameters":[{"constant":false,"id":749,"name":"_from","nodeType":"VariableDeclaration","scope":798,"src":"3410:13:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":748,"name":"address","nodeType":"ElementaryTypeName","src":"3410:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":751,"name":"_to","nodeType":"VariableDeclaration","scope":798,"src":"3425:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":750,"name":"address","nodeType":"ElementaryTypeName","src":"3425:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":753,"name":"_id","nodeType":"VariableDeclaration","scope":798,"src":"3438:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":752,"name":"uint256","nodeType":"ElementaryTypeName","src":"3438:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":755,"name":"_value","nodeType":"VariableDeclaration","scope":798,"src":"3451:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":754,"name":"uint256","nodeType":"ElementaryTypeName","src":"3451:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":757,"name":"_data","nodeType":"VariableDeclaration","scope":798,"src":"3467:20:5","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":756,"name":"bytes","nodeType":"ElementaryTypeName","src":"3467:5:5","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"3409:79:5"},"returnParameters":{"id":759,"nodeType":"ParameterList","parameters":[],"src":"3511:0:5"},"scope":914,"src":"3384:349:5","stateMutability":"nonpayable","superFunction":2126,"visibility":"external"},{"body":{"id":869,"nodeType":"Block","src":"4600:315:5","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":813,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"4614:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":814,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4614:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":815,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":800,"src":"4628:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4614:19:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":858,"nodeType":"IfStatement","src":"4610:219:5","trueBody":{"id":857,"nodeType":"Block","src":"4635:194:5","statements":[{"body":{"id":855,"nodeType":"Block","src":"4691:128:5","statements":[{"expression":{"argumentTypes":null,"id":853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":828,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"4709:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":835,"indexExpression":{"argumentTypes":null,"id":829,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":800,"src":"4720:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:17:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":836,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":830,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"4727:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4727:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:29:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":837,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":832,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":805,"src":"4739:4:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":834,"indexExpression":{"argumentTypes":null,"id":833,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":818,"src":"4744:1:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4739:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4709:38:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":849,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":808,"src":"4793:7:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":851,"indexExpression":{"argumentTypes":null,"id":850,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":818,"src":"4801:1:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4793:10:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":838,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":641,"src":"4750:10:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":840,"indexExpression":{"argumentTypes":null,"id":839,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":800,"src":"4761:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:17:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":843,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":841,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3803,"src":"4768:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4768:10:5","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:29:5","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":847,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":844,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":805,"src":"4780:4:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":846,"indexExpression":{"argumentTypes":null,"id":845,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":818,"src":"4785:1:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4780:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:38:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3053,"src":"4750:42:5","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":852,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4750:54:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4709:95:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":854,"nodeType":"ExpressionStatement","src":"4709:95:5"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":824,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":821,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":818,"src":"4669:1:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":822,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":805,"src":"4673:4:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4673:11:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4669:15:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":856,"initializationExpression":{"assignments":[818],"declarations":[{"constant":false,"id":818,"name":"i","nodeType":"VariableDeclaration","scope":856,"src":"4654:9:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":817,"name":"uint256","nodeType":"ElementaryTypeName","src":"4654:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":820,"initialValue":{"argumentTypes":null,"hexValue":"30","id":819,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4666:1:5","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4654:13:5"},"loopExpression":{"expression":{"argumentTypes":null,"id":826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4686:3:5","subExpression":{"argumentTypes":null,"id":825,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":818,"src":"4688:1:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":827,"nodeType":"ExpressionStatement","src":"4686:3:5"},"nodeType":"ForStatement","src":"4649:170:5"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":862,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":800,"src":"4875:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":863,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":802,"src":"4882:3:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":864,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":805,"src":"4887:4:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":865,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":808,"src":"4893:7:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":866,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":810,"src":"4902:5:5","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":859,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"4838:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeBatchTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2141,"src":"4838:36:5","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256[] memory,uint256[] memory,bytes memory) external"}},"id":867,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4838:70:5","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":868,"nodeType":"ExpressionStatement","src":"4838:70:5"}]},"documentation":"@notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n@dev MUST emit Transfer event per id on success.\nCaller must have a sufficient allowance by _from for each of the id/value pairs.\nThrows on any error rather than return a false flag to minimize user errors.\nOnce allowances are checked the target contract's safeBatchTransferFrom function is called.\n@param _from    Source address\n@param _to      Target address\n@param _ids     Types of Tokens\n@param _values  Transfer amounts per token type\n@param _data    Additional data with no specified format, sent in call to `_to`","id":870,"implemented":true,"kind":"function","modifiers":[],"name":"safeBatchTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":811,"nodeType":"ParameterList","parameters":[{"constant":false,"id":800,"name":"_from","nodeType":"VariableDeclaration","scope":870,"src":"4476:13:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":799,"name":"address","nodeType":"ElementaryTypeName","src":"4476:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":802,"name":"_to","nodeType":"VariableDeclaration","scope":870,"src":"4491:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":801,"name":"address","nodeType":"ElementaryTypeName","src":"4491:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":805,"name":"_ids","nodeType":"VariableDeclaration","scope":870,"src":"4504:23:5","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":803,"name":"uint256","nodeType":"ElementaryTypeName","src":"4504:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":804,"length":null,"nodeType":"ArrayTypeName","src":"4504:9:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":808,"name":"_values","nodeType":"VariableDeclaration","scope":870,"src":"4529:26:5","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":806,"name":"uint256","nodeType":"ElementaryTypeName","src":"4529:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":807,"length":null,"nodeType":"ArrayTypeName","src":"4529:9:5","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":810,"name":"_data","nodeType":"VariableDeclaration","scope":870,"src":"4557:20:5","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":809,"name":"bytes","nodeType":"ElementaryTypeName","src":"4557:5:5","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4475:103:5"},"returnParameters":{"id":812,"nodeType":"ParameterList","parameters":[],"src":"4600:0:5"},"scope":914,"src":"4445:470:5","stateMutability":"nonpayable","superFunction":2141,"visibility":"external"},{"body":{"id":885,"nodeType":"Block","src":"5238:61:5","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":881,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":872,"src":"5280:6:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":882,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":874,"src":"5288:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":879,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"5255:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":880,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":2150,"src":"5255:24:5","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":883,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5255:37:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":878,"id":884,"nodeType":"Return","src":"5248:44:5"}]},"documentation":"@notice Get the balance of an account's Tokens\n@param _owner  The address of the token holder\n@param _id     ID of the Token\n@return        The _owner's balance of the Token type requested","id":886,"implemented":true,"kind":"function","modifiers":[],"name":"balanceOf","nodeType":"FunctionDefinition","parameters":{"id":875,"nodeType":"ParameterList","parameters":[{"constant":false,"id":872,"name":"_owner","nodeType":"VariableDeclaration","scope":886,"src":"5177:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":871,"name":"address","nodeType":"ElementaryTypeName","src":"5177:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":874,"name":"_id","nodeType":"VariableDeclaration","scope":886,"src":"5193:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":873,"name":"uint256","nodeType":"ElementaryTypeName","src":"5193:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5176:29:5"},"returnParameters":{"id":878,"nodeType":"ParameterList","parameters":[{"constant":false,"id":877,"name":"","nodeType":"VariableDeclaration","scope":886,"src":"5229:7:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":876,"name":"uint256","nodeType":"ElementaryTypeName","src":"5229:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5228:9:5"},"scope":914,"src":"5158:141:5","stateMutability":"view","superFunction":2150,"visibility":"external"},{"body":{"id":896,"nodeType":"Block","src":"5573:100:5","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":893,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[3808,3809],"referencedDeclaration":3808,"src":"5658:6:5","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":894,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5658:8:5","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":895,"nodeType":"ExpressionStatement","src":"5658:8:5"}]},"documentation":"@notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n@dev MUST emit the ApprovalForAll event on success.","id":897,"implemented":true,"kind":"function","modifiers":[],"name":"setApprovalForAll","nodeType":"FunctionDefinition","parameters":{"id":891,"nodeType":"ParameterList","parameters":[{"constant":false,"id":888,"name":"","nodeType":"VariableDeclaration","scope":897,"src":"5521:7:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":887,"name":"address","nodeType":"ElementaryTypeName","src":"5521:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":890,"name":"","nodeType":"VariableDeclaration","scope":897,"src":"5544:4:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":889,"name":"bool","nodeType":"ElementaryTypeName","src":"5544:4:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"5520:43:5"},"returnParameters":{"id":892,"nodeType":"ParameterList","parameters":[],"src":"5573:0:5"},"scope":914,"src":"5494:179:5","stateMutability":"nonpayable","superFunction":2169,"visibility":"external"},{"body":{"id":912,"nodeType":"Block","src":"6051:74:5","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":908,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":899,"src":"6100:6:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":909,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":901,"src":"6108:9:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":906,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":633,"src":"6068:14:5","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2179","typeString":"contract IERC1155"}},"id":907,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isApprovedForAll","nodeType":"MemberAccess","referencedDeclaration":2178,"src":"6068:31:5","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_bool_$","typeString":"function (address,address) view external returns (bool)"}},"id":910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6068:50:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":905,"id":911,"nodeType":"Return","src":"6061:57:5"}]},"documentation":"@notice Queries the approval status of an operator for a given Token and owner\n@param _owner     The owner of the Tokens\n@param _operator  Address of authorized operator\n@return           True if the operator is approved, false if not","id":913,"implemented":true,"kind":"function","modifiers":[],"name":"isApprovedForAll","nodeType":"FunctionDefinition","parameters":{"id":902,"nodeType":"ParameterList","parameters":[{"constant":false,"id":899,"name":"_owner","nodeType":"VariableDeclaration","scope":913,"src":"5987:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":898,"name":"address","nodeType":"ElementaryTypeName","src":"5987:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":901,"name":"_operator","nodeType":"VariableDeclaration","scope":913,"src":"6003:17:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":900,"name":"address","nodeType":"ElementaryTypeName","src":"6003:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"5986:35:5"},"returnParameters":{"id":905,"nodeType":"ParameterList","parameters":[{"constant":false,"id":904,"name":"","nodeType":"VariableDeclaration","scope":913,"src":"6045:4:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":903,"name":"bool","nodeType":"ElementaryTypeName","src":"6045:4:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"6044:6:5"},"scope":914,"src":"5961:164:5","stateMutability":"view","superFunction":2178,"visibility":"external"}],"scope":915,"src":"288:5839:5"}],"src":"0:6128:5"},"bytecode":"0x","deployedBytecode":"0x","compiler":{"name":"solc","version":"0.5.10+commit.5a6ea5b1.Emscripten.clang","optimizer":{},"evmVersion":"constantinople"}}
